function setCookie(e,r,t){}function getCookie(e){for(var r=document.cookie,t=r.split(";"),n=0;n<t.length;n++){var a=t[n].split("=");if(Trim(a[0])==Trim(e))return unescape(a[1])}return""}function deleteCookie(e){var r=new Date;r.setTime(r.getTime()-1e4),document.cookie=e+"=; expire="+r.toGMTString()}function getLoginUser(){if(userinfo=localStorage.getItem("userinfo"),""==userinfo||null==userinfo){if(userinfo=getCookie("userinfo"),""==userinfo||null==userinfo)return null;sessionStorage.setItem("userinfo",userinfo)}return jQuery.parseJSON(userinfo)}function delUserInfo(){sessionStorage.removeItem("userinfo"),deleteCookie("userinfo"),localStorage.removeItem("userinfo"),sessionStorage.removeItem("rechargeUser"),sessionStorage.clear(),localStorage.clear()}function getUserTel(){var e=getLoginUser(),r=e.userPhone;return r}function getlotteryStationFlag(){var e=getLoginUser(),r=0;return null!=e&&""!=e&&(r=e.lotteryStationFlag),r}function getExpertLevel(){var e=getLoginUser(),r=0;return null!=e&&""!=e&&(r=e.expertLevel),r}function getLoginUserId(){var e=getLoginUser(),r="";return null!=e&&""!=e&&(r=e.userId),r}function createHeader(e,r){var t=new Object;return t.requestType=r,t.loginUserId=e,t.macNo="XX-XX-XX-XX-XX-XX",t.appVersionCode="1",t.appLang="1",t.appChannel="1",t.appDeviceType="3",t.interfaceVersion="2",t}function goLoginPage(e){sessionStorage.setItem("link_page",e),window.location.href=html5Url+"logo.html"}function getRequest(){var e=location.search,r=new Object;if(e.indexOf("?")!=-1){var t=e.substr(1);strs=t.split("&");for(var n=0;n<strs.length;n++)r[strs[n].split("=")[0]]=unescape(strs[n].split("=")[1])}return r}function portalAjaxRequest(e,r,t,n){var a=new Object,o=createHeader(loginUserId,e),s=new Object;$.extend(s,r),a.header=o,a.body=s;var i=JSON.stringify(a),c=encryptByDES(i,encryptKey);hashCode(c);$.ajax({method:"post",dataType:"jsonp",url:portalUrl+t,data:{token:"",jsonParams:c,sign:hashCode(c),requestSource:"3"},jsonpCallback:"jsonpCallback",async:!1}).success(function(e){var r=e.retValue,t=trim(r,"g"),a=decryptByDES(t,encryptKey);""!=n&&sessionStorage.setItem(n,a)})}function setPayObject(e,r,t,n,a,o,s,i){var c={title:e,productId:r,loginUserId:t,expertId:n,orderAmount:a,orderType:o,jumpUrl:s,supportTaest:i},l=JSON.stringify(c);sessionStorage.setItem("payObject",l)}function getPayObject(){var e=sessionStorage.payObject;return jQuery.parseJSON(e)}function delPayObject(){sessionStorage.removeItem("payObject")}function log_space(){""==loginUserId||null==loginUserId?window.location.href="user-space.html":window.location.href="my-space.html"}function Trim(e){return e.replace(/(^\s*)|(\s*$)/g,"")}function initRequestParam(e,r){var t=new Object,n=new Object;n.requestType=e,n.loginUserId="",n.macNo="",n.appVersionCode="",n.appLang="",n.appChannel="",n.appDeviceType="",n.interfaceVersion="2",t.header=n,t.body=r;var a=JSON.stringify(t),o=new Object,s=encryptByDES(a,"1379246805559731246875312468"),i=hashCode(s),c="74f68be895fa4b37ad966fc690ba3e67";return o.encParam=s,o.signParam=i,o.token=c,o}function angularHttpPost(e,r,t,n,a,o){var s=new Object,i=createHeader(loginUserId,t);s.header=i,s.body=n;var c=JSON.stringify(s),l=encryptByDES(c,encryptKey),u=hashCode(l);r({method:"POST",url:a,params:{token:"",jsonParams:l,sign:u,requestSource:"4"},headers:{"Content-Type":"application/json"}}).success(function(r){var t=trim(r.retValue,"g"),n=decryptByDES(t,encryptKey),n=jQuery.parseJSON(n);rem=n.body.data,o(e,rem)})}function crossDomainAjaxRequest(e,r,t,n,a){$.ajax({type:"get",dataType:"jsonp",url:e,jsonpCallback:"jsonpCallback",async:!1,data:{token:r,jsonParams:t,sign:n,requestSource:"0"},success:function(e){var r=trim(e,"g"),t=decryptByDES(r,"1379246805559731246875312468"),n=jQuery.parseJSON(t),o=n.body.data;a(o)},error:function(e,r,t){}})}function crossDomainPortalRequest(e,r,t,n,a,o){$.ajax({type:"get",dataType:"jsonp",url:e,jsonpCallback:"jsonpCallback",async:!1,data:{token:r,jsonParams:t,sign:n,requestSource:a},success:function(e){var r=trim(e.retValue,"g"),t=decryptByDES(r,"1379246805559731246875312468"),t=jQuery.parseJSON(t);o(t.body)},error:function(e,r,t){}})}function crossDomainPortalRequestParams(e,r,t,n,a,o,s,i,c){$.ajax({type:"get",dataType:"jsonp",url:e,jsonpCallback:"jsonpCallback",async:!1,data:{token:"02c4a542dcd5441e894a7fbd2f94ae6b",jsonParams:r,sign:t,requestSource:"3"},success:function(e){var r=trim(e.retValue,"g"),t=decryptByDES(r,"1379246805559731246875312468"),t=jQuery.parseJSON(t);c(n,a,o,s,i,t.body)},error:function(e,r,t){}})}function checkPackNum(e,r,t,n,a,o){if("1000"!=o.resultCode)return void alert(o.resultDesc);var s=o.data.surplusNum;if("0"==s){var i="购买【"+r+"】专家的方案，价格:"+a+" 元",c="2",l=html5Url+"bgfan.html?planId="+t;setPayObject(i,t,loginUserId,e,a,c,l);var u=$("#payUrl").val();window.location.href=u}else{if(!confirm("订购【"+n+"】包次套餐剩余次数"+s))return!1;var p="buyCommonPlanByNum",g=new Object;g.loginUserId=loginUserId,g.planId=t;var d=initRequestParam(p,g),u=portalUrl+"/order/buyCommonPlanByNum";crossDomainPortalRequestParams(u,d.encParam,d.signParam,e,r,t,n,a,buyPackNum)}}function buyPackNum(e,r,t,n,a,o){if("1000"==o.resultCode){var s=html5Url+"bgfan.html?planId="+t;window.location.href=s}else alert(o.resultDesc)}function hashCode(e){var r=202838;e=e;for(var t=0,n=e.length;t<n;++t)r^=(r<<5)+e.charAt(t).charCodeAt()+(r>>2);return 2147483647&r}function trim(e,r){var t;return t=e.replace(/(^\s+)|(\s+$)/g,""),"g"==r.toLowerCase()&&(t=t.replace(/\s/g,"").replace(/[\r\n]/g,"")),t}var portalUrl="http://baoying365.com.cn:7083/portal/",html5Url="http://baoying365.com.cn/html5/baoyc/",weixinUrl="http://baoying365.com.cn/weixin/",pubAccessKeyId="wxbbccd103ff110243",actUrl="http://baoying365.com.cn/",encryptKey="1379246805559731246875312468",pageSize="20",loginUserId=getLoginUserId(),expertLevel=getExpertLevel(),lotteryStationFlag=getlotteryStationFlag();